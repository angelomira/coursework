<!DOCTYPE html>
<html lang="en" style="height: 100%; width: 100%;">

<head>
    <script>var exports = {};</script>
    <script src="../../js/controllers/account-check.js"></script>
    <script src="../../js/controllers/account-auths.js"></script>
    <script src="../../js/navs.js"></script>
    <script src="../../js/footer.js"></script>
    <script src="../../js/auth/checker/auth-level.js"></script>
    <script src="../../js/views/account.js"></script>
    <script src="../../js/views/account-tables.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ДС УОП</title>
    <link rel="icon" type="image/png" href="/resources/favicon.ico">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <!-- Refer stylesheet after every other resource for design-stable purpose: different order means different CSS -->
    <link rel="stylesheet" href="./../../css/main.css">
    <link rel="stylesheet" href="./../../css/adds.css">
</head>

<body>
    <header>
        <div id="nav.bar" class="navigation">
            <div class="logo">
                <button id="menu" class="menu">Меню</button>
                <div id="dropdown" class="dropdown">
                    <a href="http://localhost:3000/pages/main.html">Главное меню</a>
                    <a href="http://localhost:3000/pages/menu-users-array.html">Меню базы данных клиентов</a>
                    <a href="http://localhost:3000/pages/menu-users-registry.html">Меню регистрации клиента</a>
                    <a href="http://localhost:3000/pages/forms/credentials.html" id="funds-create">Меню регистрации
                        валютных фондов</a>
                    <a href="http://localhost:3000/pages/forms/credentials.html" id="funds-fulfil">Меню пополнения
                        валютного фонда</a>
                    <a href="http://localhost:3000/pages/forms/credentials.html" id="funds-exchange">Меню валютного
                        обмена</a>
                    <a href="http://localhost:3000/pages/forms/credentials.html" id="account-see">Просмотреть
                        аккаунт</a>
                    <script>
                        // Get all the links
                        const links = document.querySelectorAll('a');

                        // Add click event listener to each link
                        links.forEach(link => {
                            link.addEventListener('click', function (event) {
                                event.preventDefault(); // Prevent the default action of the link

                                // Get the id of the clicked link
                                const id = this.getAttribute('id');

                                // Map id to the corresponding route and store it in localStorage
                                switch (id) {
                                    case 'funds-create':
                                        localStorage.setItem('credentials-reroute', '/pages/funds/create.html');
                                        break;
                                    case 'funds-fulfil':
                                        localStorage.setItem('credentials-reroute', '/pages/funds/fulfil.html');
                                        break;
                                    case 'funds-exchange':
                                        localStorage.setItem('credentials-reroute', '/pages/funds/exchange.html');
                                        break;
                                    case 'account-see':
                                        localStorage.setItem('credentials-reroute', '/pages/accounts/account.html');
                                        break;
                                    default:
                                        // Do nothing for other links
                                        break;
                                }

                                // Redirect to the href of the clicked link
                                window.location.href = this.getAttribute('href');
                            });
                        });
                    </script>
                </div>
            </div>
            <div class="header-links">
                <a href="#">Контакты</a>
                <a href="#">Юриспруденция</a>
            </div>
            <button id="deauth" class="deauth">Деавторизоваться</button>
        </div>
    </header>
    <main>
        <div class="account info-container">
            <div id="account.info" class="card account-item">
            </div>
            <div id="account-fund" class="card account-item">
                <h3>
                    Меню управления пользователем:
                </h3>
                <button id="fund.create">Реализация фонда</button>
                <button id="fund.fulfil">Пополнение фонда</button>
                <button id="fund.exchange">Совершить валютный обмен</button>
            </div>
        </div>
        <div class="card tableset">
            <select id="table-mode">
                <option value="checks">Показать чеки</option>
                <option value="funds">Показать фонды</option>
            </select>
            
            <button id="download-btn">Скачать таблицу (в .TXT)</button>
        </div>

        <div class="horizontal-line"></div>
        
        <table id="data-table" class="table-database">
            <!-- Table headers will be populated dynamically -->
            <thead>
                <tr>
                    <!-- Table headers will be populated dynamically -->
                </tr>
            </thead>
            <tbody>
                <!-- Table data will be populated dynamically -->
            </tbody>
        </table>        
    </main>
    <footer>
        <p>MIT License &copy; 2024 angelomira</p>
        <a href="https://github.com/angelomira/coursework">Source code</a>
        <p id="timer"></p>
    </footer>
</body>

</html>